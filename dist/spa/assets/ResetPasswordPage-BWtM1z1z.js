import{j as r,u as h,c as x,o as u,w as o,f as k,h as S,a,v as V,q as c,m,A as f,B as p,Q as B,C,p as g,D as v}from"./index-CEJet-6z.js";import{Q as R}from"./QForm-CCQUbe-V.js";import{Q as N}from"./QPage-JXBaRaDt.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={key:0,class:"text-red"},A={key:1,class:"text-green"},D={__name:"ResetPasswordPage",setup(E){const _=k(),{showSuccess:w,showError:y}=S(),b=()=>{_.push("/auth/login")},l=r(""),t=r(!1),n=r(null),d=r(null),P=h(),Q=async()=>{t.value=!0,console.log("resetting password for: ",l.value);let i=await P.resetPassword(l.value);const{success:e,error:s}=i;e?w("Password reset link sent to your email."):s&&y(s.message),t.value=!1};return(i,e)=>(u(),x(N,{class:"reset-password"},{default:o(()=>[a(V,null,{default:o(()=>[a(c,null,{default:o(()=>e[1]||(e[1]=[m("div",{class:"text-h5"},"Reset Password",-1)])),_:1}),a(c,null,{default:o(()=>[a(R,{onSubmit:Q,class:"q-gutter-md"},{default:o(()=>[a(B,{filled:"",type:"email",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),label:"Your email","lazy-rules":"",rules:[s=>s&&s.length>0||"Please enter your email"]},null,8,["modelValue","rules"]),m("div",null,[a(g,{color:"primary",type:"submit",label:t.value?"Loading...":"Reset Password",loading:t.value,disable:t.value},null,8,["label","loading","disable"]),e[2]||(e[2]=C("    ")),a(g,{type:"button",label:"Go to Login",onClick:b,color:"info"})]),n.value?(u(),f("div",q,v(n.value),1)):p("",!0),d.value?(u(),f("div",A,v(d.value),1)):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},F=L(D,[["__scopeId","data-v-d0ef03fc"]]);export{F as default};
