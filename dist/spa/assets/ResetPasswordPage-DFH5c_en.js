import{f as n,c as P,o as i,w as o,u as x,a as e,Q,j as c,k as m,a3 as p,a0 as f,l as k,a1 as V,n as v,a2 as g}from"./index-BBQZjOV3.js";import{Q as S}from"./QForm-CV2_hk2P.js";import{Q as h}from"./QPage-DyOYUvOZ.js";import{useAuthStore as B}from"./auth-store-Cx61lCSG.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DlvJ65xS.js";const R={key:0,class:"text-red"},N={key:1,class:"text-green"},L={__name:"ResetPasswordPage",setup(A){const _=x(),y=()=>{_.push("/login")},d=n(""),s=n(!1),l=n(null),r=n(null),b=B(),w=async()=>{s.value=!0,l.value=null,r.value=null;try{const t=await b.resetPassword(d.value);t.success?r.value="Password reset link sent to your email.":l.value=t.error}catch(t){l.value=t.message||"An unexpected error occurred."}finally{s.value=!1}};return(t,a)=>(i(),P(h,{class:"reset-password"},{default:o(()=>[e(Q,null,{default:o(()=>[e(c,null,{default:o(()=>a[1]||(a[1]=[m("div",{class:"text-h5"},"Reset Password",-1)])),_:1}),e(c,null,{default:o(()=>[e(S,{onSubmit:w,class:"q-gutter-md"},{default:o(()=>[e(k,{filled:"",type:"email",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=u=>d.value=u),label:"Your email","lazy-rules":"",rules:[u=>u&&u.length>0||"Please enter your email"]},null,8,["modelValue","rules"]),m("div",null,[e(v,{color:"primary",type:"submit",label:s.value?"Loading...":"Reset Password",loading:s.value,disable:s.value},null,8,["label","loading","disable"]),a[2]||(a[2]=V("    ")),e(v,{type:"button",label:"Go to Login",onClick:y,color:"info"})]),l.value?(i(),p("div",R,g(l.value),1)):f("",!0),r.value?(i(),p("div",N,g(r.value),1)):f("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},F=C(L,[["__scopeId","data-v-12318e18"]]);export{F as default};
