import{j as d,u as P,c as x,o as i,w as o,f as Q,a as e,v as k,q as c,m,A as p,B as v,Q as V,C as B,p as f,D as g}from"./index-BFTdSGX4.js";import{Q as C}from"./QForm-QwPy7nrd.js";import{Q as S}from"./QPage-CFAJclAN.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={key:0,class:"text-red"},N={key:1,class:"text-green"},A={__name:"ResetPasswordPage",setup(L){const _=Q(),y=()=>{_.push("/login")},r=d(""),s=d(!1),l=d(null),u=d(null),w=P(),b=async()=>{s.value=!0,l.value=null,u.value=null,console.log("resetting password for: ",r.value);try{const t=await w.resetPassword(r.value);t.success?u.value="Password reset link sent to your email.":l.value=t.error}catch(t){l.value=t.message||"An unexpected error occurred."}finally{s.value=!1}};return(t,a)=>(i(),x(S,{class:"reset-password"},{default:o(()=>[e(k,null,{default:o(()=>[e(c,null,{default:o(()=>a[1]||(a[1]=[m("div",{class:"text-h5"},"Reset Password",-1)])),_:1}),e(c,null,{default:o(()=>[e(C,{onSubmit:b,class:"q-gutter-md"},{default:o(()=>[e(V,{filled:"",type:"email",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=n=>r.value=n),label:"Your email","lazy-rules":"",rules:[n=>n&&n.length>0||"Please enter your email"]},null,8,["modelValue","rules"]),m("div",null,[e(f,{color:"primary",type:"submit",label:s.value?"Loading...":"Reset Password",loading:s.value,disable:s.value},null,8,["label","loading","disable"]),a[2]||(a[2]=B("    ")),e(f,{type:"button",label:"Go to Login",onClick:y,color:"info"})]),l.value?(i(),p("div",R,g(l.value),1)):v("",!0),u.value?(i(),p("div",N,g(u.value),1)):v("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},z=h(A,[["__scopeId","data-v-a44a85d8"]]);export{z as default};
