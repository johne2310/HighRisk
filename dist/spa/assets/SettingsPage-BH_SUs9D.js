import{c as pe,ah as A,y as he,N as be,A as Se,g as ye,r as W,a as D,aA as Te,C as we,ai as Ve,D as De,aB as Ye,w as L,o as R,k as j,q as $,O as Ce,h as I,aj as ke,b as Ae,x as Pe,W as P,X as x,Y as i,a3 as r,_ as t,ab as M,ac as O,ad as xe,a5 as a,aC as _,a4 as S,Z as G,a0 as q}from"./index-BXwL6rGU.js";import{v as Me,b as X,d as Oe,p as Z,e as _e,f as qe,g as Ee,r as z,s as He,Q as Y}from"./QSelect-ecL_iQXq.js";import{c as J}from"./QItem-oaxdh4Na.js";import{Q as K}from"./QForm-n8eStlVa.js";import{Q as Qe}from"./QPage-BoV4Bvqy.js";import{u as Ue}from"./use-quasar-DHp_SMRG.js";import{u as Ne}from"./settings-store-Dy-L6oRl.js";const E=pe({name:"QTooltip",inheritAttrs:!1,props:{...Oe,...Se,...A,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...A.transitionShow,default:"jump-down"},transitionHide:{...A.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:X},self:{type:String,default:"top middle",validator:X},offset:{type:Array,default:()=>[14,14],validator:Me},scrollTarget:be,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...he],setup(l,{slots:f,emit:g,attrs:u}){let o,v;const y=ye(),{proxy:{$q:d}}=y,p=W(null),b=W(!1),c=D(()=>Z(l.anchor,d.lang.rtl)),e=D(()=>Z(l.self,d.lang.rtl)),s=D(()=>l.persistent!==!0),{registerTick:ee,removeTick:te}=Te(),{registerTimeout:V}=we(),{transitionProps:le,transitionStyle:ae}=Ve(l),{localScrollTarget:H,changeScrollEvent:oe,unconfigureScrollTarget:se}=_e(l,F),{anchorEl:m,canShow:ie,anchorEvents:T}=qe({showing:b,configureAnchorEl:fe}),{show:ne,hide:C}=De({showing:b,canShow:ie,handleShow:ue,handleHide:de,hideOnRouteChange:s,processOnMount:!0});Object.assign(T,{delayShow:ce,delayHide:me});const{showPortal:Q,hidePortal:U,renderPortal:re}=Ye(y,p,ve,"tooltip");if(d.platform.is.mobile===!0){const n={anchorEl:m,innerRef:p,onClickOutside(h){return C(h),h.target.classList.contains("q-dialog__backdrop")&&Pe(h),!0}},k=D(()=>l.modelValue===null&&l.persistent!==!0&&b.value===!0);L(k,h=>{(h===!0?Ee:z)(n)}),R(()=>{z(n)})}function ue(n){Q(),ee(()=>{v=new MutationObserver(()=>w()),v.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),w(),F()}),o===void 0&&(o=L(()=>d.screen.width+"|"+d.screen.height+"|"+l.self+"|"+l.anchor+"|"+d.lang.rtl,w)),V(()=>{Q(!0),g("show",n)},l.transitionDuration)}function de(n){te(),U(),N(),V(()=>{U(!0),g("hide",n)},l.transitionDuration)}function N(){v!==void 0&&(v.disconnect(),v=void 0),o!==void 0&&(o(),o=void 0),se(),j(T,"tooltipTemp")}function w(){He({targetEl:p.value,offset:l.offset,anchorEl:m.value,anchorOrigin:c.value,selfOrigin:e.value,maxHeight:l.maxHeight,maxWidth:l.maxWidth})}function ce(n){if(d.platform.is.mobile===!0){J(),document.body.classList.add("non-selectable");const k=m.value,h=["touchmove","touchcancel","touchend","click"].map(B=>[k,B,"delayHide","passiveCapture"]);$(T,"tooltipTemp",h)}V(()=>{ne(n)},l.delay)}function me(n){d.platform.is.mobile===!0&&(j(T,"tooltipTemp"),J(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),V(()=>{C(n)},l.hideDelay)}function fe(){if(l.noParentEvent===!0||m.value===null)return;const n=d.platform.is.mobile===!0?[[m.value,"touchstart","delayShow","passive"]]:[[m.value,"mouseenter","delayShow","passive"],[m.value,"mouseleave","delayHide","passive"]];$(T,"anchor",n)}function F(){if(m.value!==null||l.scrollTarget!==void 0){H.value=Ce(m.value,l.scrollTarget);const n=l.noParentEvent===!0?w:C;oe(H.value,n)}}function ge(){return b.value===!0?I("div",{...u,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,ae.value],role:"tooltip"},Ae(f.default)):null}function ve(){return I(ke,le.value,ge)}return R(N),Object.assign(y.proxy,{updatePosition:w}),re}}),Fe={class:"row q-col-gutter-md"},Be={class:"col-12 col-md-6"},We={class:"col-12 col-md-6"},Le={class:"col-12"},Re={class:"row q-col-gutter-md q-mt-md"},je={class:"col-12 col-md-4"},$e={class:"col-12 col-md-4"},Ie={class:"col-12 col-md-4"},tt={__name:"SettingsPage",setup(l){const f=Ue(),g=Ne(),{userSettings:u,appSettings:o}=g,v=[{label:"Blue Theme",value:"blue"},{label:"Dark Theme",value:"dark"},{label:"Light Theme",value:"light"}],y=[{label:"YYYY-MM-DD",value:"YYYY-MM-DD"},{label:"DD/MM/YYYY",value:"DD/MM/YYYY"},{label:"MM/DD/YYYY",value:"MM/DD/YYYY"}],d=()=>{const c=g.saveUserSettings();c.success?f.notify({color:"positive",icon:"check_circle",message:"User settings saved successfully",position:"top",timeout:2e3}):f.notify({color:"negative",icon:"error",message:`Failed to save user settings: ${c.error}`,position:"top",timeout:2e3})},p=()=>{const c=g.saveAppSettings();c.success?f.notify({color:"positive",icon:"check_circle",message:"Application settings saved successfully",position:"top",timeout:2e3}):f.notify({color:"negative",icon:"error",message:`Failed to save application settings: ${c.error}`,position:"top",timeout:2e3})},b=()=>{const c=g.resetAppSettings();c.success?f.notify({color:"info",icon:"info",message:"Application settings reset to defaults",position:"top",timeout:2e3}):f.notify({color:"negative",icon:"error",message:`Failed to reset application settings: ${c.error}`,position:"top",timeout:2e3})};return(c,e)=>(x(),P(Qe,{padding:""},{default:i(()=>[e[14]||(e[14]=r("div",{class:"text-h4 text-primary q-mb-md"},"Application Settings",-1)),r("div",Fe,[r("div",Be,[t(M,null,{default:i(()=>[t(O,null,{default:i(()=>[e[9]||(e[9]=r("div",{class:"text-h6"},"User Settings",-1)),t(K,{class:"q-gutter-md q-mt-md"},{default:i(()=>[t(xe,{filled:"",modelValue:a(u).defaultName,"onUpdate:modelValue":e[0]||(e[0]=s=>a(u).defaultName=s),label:"Default Collector Name"},null,8,["modelValue"]),t(Y,{filled:"",modelValue:a(u).defaultHospital,"onUpdate:modelValue":e[1]||(e[1]=s=>a(u).defaultHospital=s),options:["Richmond","Eastern","Camberwell","Geelong","Hawthorn","Freemasons"],label:"Default Hospital",clearable:""},null,8,["modelValue"]),t(Y,{filled:"",modelValue:a(u).defaultWard,"onUpdate:modelValue":e[2]||(e[2]=s=>a(u).defaultWard=s),options:[],label:"Default Ward",clearable:"",disable:!a(u).defaultHospital},null,8,["modelValue","disable"]),t(_,{modelValue:a(u).rememberSettings,"onUpdate:modelValue":e[3]||(e[3]=s=>a(u).rememberSettings=s),label:"Remember my settings"},null,8,["modelValue"]),r("div",null,[t(S,{color:"primary",label:"Save User Settings",onClick:d,disable:a(o).autoSave},{default:i(()=>[a(o).autoSave?(x(),P(E,{key:0},{default:i(()=>e[8]||(e[8]=[q(" Settings are automatically saved when auto-save is enabled ")])),_:1})):G("",!0)]),_:1},8,["disable"])])]),_:1})]),_:1})]),_:1})]),r("div",We,[t(M,null,{default:i(()=>[t(O,null,{default:i(()=>[e[12]||(e[12]=r("div",{class:"text-h6"},"Application Settings",-1)),t(K,{class:"q-gutter-md q-mt-md"},{default:i(()=>[t(Y,{filled:"",modelValue:a(o).theme,"onUpdate:modelValue":e[4]||(e[4]=s=>a(o).theme=s),options:v,label:"Application Theme"},null,8,["modelValue"]),t(Y,{filled:"",modelValue:a(o).dateFormat,"onUpdate:modelValue":e[5]||(e[5]=s=>a(o).dateFormat=s),options:y,label:"Date Format"},null,8,["modelValue"]),t(_,{modelValue:a(o).notifications,"onUpdate:modelValue":e[6]||(e[6]=s=>a(o).notifications=s),label:"Enable Notifications"},null,8,["modelValue"]),t(_,{modelValue:a(o).autoSave,"onUpdate:modelValue":e[7]||(e[7]=s=>a(o).autoSave=s),label:"Auto-save Settings"},{default:i(()=>[t(E,null,{default:i(()=>e[10]||(e[10]=[q(" When enabled, settings are automatically saved when changed ")])),_:1})]),_:1},8,["modelValue"]),r("div",null,[t(S,{color:"primary",label:"Save App Settings",onClick:p,disable:a(o).autoSave},{default:i(()=>[a(o).autoSave?(x(),P(E,{key:0},{default:i(()=>e[11]||(e[11]=[q(" Settings are automatically saved when auto-save is enabled ")])),_:1})):G("",!0)]),_:1},8,["disable"]),t(S,{color:"secondary",flat:"",label:"Reset to Defaults",class:"q-ml-sm",onClick:b})])]),_:1})]),_:1})]),_:1})]),r("div",Le,[t(M,null,{default:i(()=>[t(O,null,{default:i(()=>[e[13]||(e[13]=r("div",{class:"text-h6"},"Data Management",-1)),r("div",Re,[r("div",je,[t(S,{color:"primary",label:"Export All Data",icon:"cloud_download",class:"full-width"})]),r("div",$e,[t(S,{color:"warning",label:"Clear Local Cache",icon:"delete_sweep",class:"full-width"})]),r("div",Ie,[t(S,{color:"negative",label:"Reset Application",icon:"restart_alt",class:"full-width"})])])]),_:1})]),_:1})])])]),_:1}))}};export{tt as default};
